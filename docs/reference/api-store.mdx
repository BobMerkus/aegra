---
title: "Store API"
description: "API reference for persistent key-value and semantic storage."
---

The Store API provides persistent key-value storage with optional semantic search. Data is organized into hierarchical namespaces. When authentication is enabled, all operations are automatically scoped to the authenticated user.

## Put item

<ParamField path="PUT" type="/store/items">
  Store or update an item under a namespace and key. If the item already exists, it is overwritten.
</ParamField>

### Request body

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `namespace` | `list[string]` | Yes | Namespace path segments (e.g. `["users", "alice", "prefs"]`) |
| `key` | `string` | Yes | Item key |
| `value` | `object` | Yes | Item value. Must be a JSON object (not a primitive). |

### Response

Returns `{"status": "stored"}`.

```python
from langgraph_sdk import get_client

client = get_client(url="http://localhost:8000")

await client.store.put_item(
    namespace=["users", "alice", "preferences"],
    key="theme",
    value={"color": "dark", "font_size": 14},
)
```

<Note>
  Values must be JSON objects (dicts). Primitive values like strings, numbers, or arrays at the top level are not accepted.
</Note>

---

## Get item

<ParamField path="GET" type="/store/items">
  Retrieve a single item by namespace and key.
</ParamField>

### Query parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `key` | `string` | Yes | Item key |
| `namespace` | `string` | No | Namespace as a dot-separated string (e.g. `"users.alice.prefs"`) or repeated query params |

### Response

| Field | Type | Description |
|-------|------|-------------|
| `key` | `string` | Item key |
| `value` | `any` | Item value |
| `namespace` | `list[string]` | Namespace path |

```python
item = await client.store.get_item(
    namespace=["users", "alice", "preferences"],
    key="theme",
)
print(item["value"])  # {"color": "dark", "font_size": 14}
```

---

## Delete item

<ParamField path="DELETE" type="/store/items">
  Delete a store item. Accepts either a JSON body or query parameters.
</ParamField>

### Request body (optional)

| Field | Type | Description |
|-------|------|-------------|
| `namespace` | `list[string]` | Namespace path |
| `key` | `string` | Item key |

### Query parameters (fallback)

| Parameter | Type | Description |
|-----------|------|-------------|
| `key` | `string` | Item key |
| `namespace` | `list[string]` | Namespace path |

### Response

Returns `{"status": "deleted"}`.

```python
await client.store.delete_item(
    namespace=["users", "alice", "preferences"],
    key="theme",
)
```

---

## Search items

<ParamField path="POST" type="/store/items/search">
  Search items within a namespace prefix. Supports keyword/semantic queries when vector embeddings are configured.
</ParamField>

### Request body

| Field | Type | Required | Default | Description |
|-------|------|----------|---------|-------------|
| `namespace_prefix` | `list[string]` | Yes | — | Namespace prefix to search within |
| `query` | `string` | No | `null` | Semantic or keyword search query |
| `filter` | `object` | No | `null` | Metadata key-value filters |
| `limit` | `integer` | No | `20` | Max results (1–100) |
| `offset` | `integer` | No | `0` | Pagination offset |

### Response

| Field | Type | Description |
|-------|------|-------------|
| `items` | `list[StoreItem]` | Matching items |
| `total` | `integer` | Total matches |
| `limit` | `integer` | Applied limit |
| `offset` | `integer` | Applied offset |

Each `StoreItem` contains:

| Field | Type | Description |
|-------|------|-------------|
| `key` | `string` | Item key |
| `value` | `any` | Item value |
| `namespace` | `list[string]` | Full namespace path |

```python
# Basic search within a namespace
results = await client.store.search_items(
    namespace_prefix=["users", "alice"],
    limit=10,
)

for item in results["items"]:
    print(f"{item['namespace']}/{item['key']}: {item['value']}")

# Semantic search (requires vector embeddings configured)
results = await client.store.search_items(
    namespace_prefix=["knowledge"],
    query="How should I write Python loops?",
    limit=5,
)
```

---

## List namespaces

<ParamField path="POST" type="/store/namespaces">
  List available namespaces, optionally filtered by prefix or suffix.
</ParamField>

### Request body

| Field | Type | Default | Description |
|-------|------|---------|-------------|
| `prefix` | `list[string]` | `null` | Filter namespaces starting with this prefix |
| `suffix` | `list[string]` | `null` | Filter namespaces ending with this suffix |
| `max_depth` | `integer` | `null` | Maximum namespace depth (1–100) |
| `limit` | `integer` | `100` | Max results (1–1000) |
| `offset` | `integer` | `0` | Pagination offset |

### Response

| Field | Type | Description |
|-------|------|-------------|
| `namespaces` | `list[list[string]]` | List of namespace paths |

```python
namespaces = await client.store.list_namespaces(
    prefix=["users"],
)
# Returns: [["users", "alice", "preferences"], ["users", "alice", "conversations"], ...]
```

---

## Namespace scoping

When authentication is enabled, all store operations are automatically scoped to the authenticated user's namespace. This means:

- Users cannot access each other's data
- Namespace prefixes are transparently prepended with the user's identity
- No additional code is needed to achieve multi-tenant isolation
